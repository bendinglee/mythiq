<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feedback Console - Mythiq</title>
    <link rel="stylesheet" href="../src/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Inter', 'sans-serif'],
                        'serif': ['Playfair Display', 'serif'],
                    },
                    colors: {
                        'mythiq-purple': '#6366f1',
                        'mythiq-pink': '#ec4899',
                        'mythiq-blue': '#3b82f6',
                        'mythiq-teal': '#14b8a6',
                        'mythiq-gold': '#f59e0b',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-900 text-white overflow-x-hidden" x-data="feedbackConsole()">
    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-gradient-to-r from-mythiq-purple to-mythiq-pink rounded-lg flex items-center justify-center">
                        <span class="text-white font-bold text-sm">M</span>
                    </div>
                    <span class="font-serif text-xl font-semibold">Mythiq</span>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="index.html" class="hover:text-mythiq-purple transition-colors">Home</a>
                    <a href="studio.html" class="hover:text-mythiq-purple transition-colors">Game Studio</a>
                    <a href="assistant.html" class="hover:text-mythiq-purple transition-colors">Assistant</a>
                    <a href="gallery.html" class="hover:text-mythiq-purple transition-colors">Gallery</a>
                    <a href="dashboard.html" class="hover:text-mythiq-purple transition-colors">Dashboard</a>
                    <a href="feedback.html" class="text-mythiq-purple">Feedback</a>
                    <button class="bg-gradient-to-r from-mythiq-purple to-mythiq-pink px-4 py-2 rounded-lg hover:opacity-90 transition-opacity">
                        Submit Feedback
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Feedback Interface -->
    <div class="pt-16 min-h-screen bg-gradient-to-br from-gray-900 via-purple-900/10 to-pink-900/10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <!-- Feedback Header -->
            <div class="text-center mb-8">
                <h1 class="font-serif text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-mythiq-purple via-mythiq-pink to-mythiq-blue bg-clip-text text-transparent">
                    Feedback Console
                </h1>
                <p class="text-xl text-gray-300 max-w-2xl mx-auto">
                    Help Mythiq learn and evolve by providing feedback on its creations and responses
                </p>
            </div>

            <!-- Main Layout -->
            <div class="grid lg:grid-cols-3 gap-8">
                <!-- Left Column - Feedback Forms -->
                <div class="lg:col-span-2 space-y-8">
                    <!-- Quick Feedback Section -->
                    <div class="bg-gray-800/80 rounded-2xl p-6 backdrop-blur-sm border border-gray-700">
                        <h2 class="text-2xl font-semibold mb-6 flex items-center">
                            <span class="w-8 h-8 bg-gradient-to-r from-mythiq-purple to-mythiq-pink rounded-lg flex items-center justify-center mr-3 text-sm">‚ö°</span>
                            Quick Feedback
                        </h2>
                        
                        <div class="grid md:grid-cols-2 gap-6">
                            <!-- Rate Last Interaction -->
                            <div class="p-4 bg-gray-700/50 rounded-xl">
                                <h3 class="font-semibold mb-3">Rate Your Last Interaction</h3>
                                <p class="text-sm text-gray-400 mb-4">How did Mythiq perform in your recent session?</p>
                                
                                <div class="flex items-center space-x-2 mb-4">
                                    <template x-for="star in 5" :key="star">
                                        <button @click="setQuickRating(star)"
                                                :class="star <= quickRating ? 'text-yellow-400' : 'text-gray-600'"
                                                class="text-2xl hover:text-yellow-400 transition-colors">
                                            ‚≠ê
                                        </button>
                                    </template>
                                </div>
                                
                                <div class="flex space-x-2">
                                    <template x-for="mood in quickMoods" :key="mood.name">
                                        <button @click="setQuickMood(mood.name)"
                                                :class="quickSelectedMood === mood.name ? 'ring-2 ring-mythiq-purple' : ''"
                                                class="p-2 bg-gray-600 hover:bg-gray-500 rounded-lg transition-colors"
                                                :title="mood.name">
                                            <span x-text="mood.emoji"></span>
                                        </button>
                                    </template>
                                </div>
                            </div>

                            <!-- Emotion Impact -->
                            <div class="p-4 bg-gray-700/50 rounded-xl">
                                <h3 class="font-semibold mb-3">Emotional Impact</h3>
                                <p class="text-sm text-gray-400 mb-4">How did this interaction make you feel?</p>
                                
                                <div class="space-y-3">
                                    <template x-for="emotion in emotionOptions" :key="emotion.name">
                                        <div class="flex items-center justify-between">
                                            <div class="flex items-center space-x-2">
                                                <span x-text="emotion.emoji"></span>
                                                <span class="text-sm" x-text="emotion.name"></span>
                                            </div>
                                            <input type="range" 
                                                   :value="emotionLevels[emotion.name] || 0"
                                                   @input="updateEmotionLevel(emotion.name, $event.target.value)"
                                                   min="0" max="10" 
                                                   class="w-20 accent-mythiq-purple">
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </div>

                        <button @click="submitQuickFeedback()" 
                                class="w-full mt-6 bg-gradient-to-r from-mythiq-purple to-mythiq-pink py-3 rounded-lg font-semibold hover:scale-105 transition-transform">
                            Submit Quick Feedback
                        </button>
                    </div>

                    <!-- Detailed Feedback Section -->
                    <div class="bg-gray-800/80 rounded-2xl p-6 backdrop-blur-sm border border-gray-700">
                        <h2 class="text-2xl font-semibold mb-6 flex items-center">
                            <span class="w-8 h-8 bg-gradient-to-r from-mythiq-teal to-mythiq-blue rounded-lg flex items-center justify-center mr-3 text-sm">üìù</span>
                            Detailed Feedback
                        </h2>
                        
                        <!-- Feedback Type Selection -->
                        <div class="mb-6">
                            <label class="block text-sm font-medium mb-3">Feedback Type</label>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                                <template x-for="type in feedbackTypes" :key="type.name">
                                    <button @click="setFeedbackType(type.name)"
                                            :class="selectedFeedbackType === type.name ? 'bg-mythiq-purple text-white' : 'bg-gray-700 text-gray-300 hover:bg-gray-600'"
                                            class="p-3 rounded-lg font-medium transition-colors text-center">
                                        <div x-text="type.emoji" class="text-xl mb-1"></div>
                                        <div class="text-xs" x-text="type.name"></div>
                                    </button>
                                </template>
                            </div>
                        </div>

                        <!-- Specific Creation Feedback -->
                        <div x-show="selectedFeedbackType" class="mb-6">
                            <label class="block text-sm font-medium mb-3">Select Creation to Review</label>
                            <select x-model="selectedCreation" class="w-full bg-gray-700/50 border border-gray-600 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-mythiq-purple">
                                <option value="">Choose a recent creation...</option>
                                <template x-for="creation in recentCreations" :key="creation.id">
                                    <option :value="creation.id" x-text="`${creation.type}: ${creation.title}`"></option>
                                </template>
                            </select>
                        </div>

                        <!-- Feedback Text -->
                        <div class="mb-6">
                            <label class="block text-sm font-medium mb-3">Your Feedback</label>
                            <textarea x-model="feedbackText"
                                      placeholder="Share your thoughts, suggestions, or report issues..."
                                      class="w-full bg-gray-700/50 border border-gray-600 rounded-lg p-4 text-white placeholder-gray-400 resize-none focus:outline-none focus:ring-2 focus:ring-mythiq-purple focus:border-transparent"
                                      rows="6"></textarea>
                            <div class="flex items-center justify-between mt-2">
                                <span class="text-sm text-gray-400" x-text="`${feedbackText.length}/1000 characters`"></span>
                                <div class="flex items-center space-x-4">
                                    <label class="flex items-center space-x-2">
                                        <input type="checkbox" x-model="isAnonymous" class="rounded bg-gray-700 border-gray-600 text-mythiq-purple focus:ring-mythiq-purple">
                                        <span class="text-sm text-gray-400">Submit anonymously</span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Improvement Suggestions -->
                        <div class="mb-6">
                            <label class="block text-sm font-medium mb-3">Suggested Improvements</label>
                            <div class="grid md:grid-cols-2 gap-4">
                                <template x-for="suggestion in improvementSuggestions" :key="suggestion">
                                    <label class="flex items-center space-x-2 p-3 bg-gray-700/30 rounded-lg hover:bg-gray-700/50 transition-colors cursor-pointer">
                                        <input type="checkbox" 
                                               :value="suggestion"
                                               x-model="selectedImprovements"
                                               class="rounded bg-gray-700 border-gray-600 text-mythiq-purple focus:ring-mythiq-purple">
                                        <span class="text-sm" x-text="suggestion"></span>
                                    </label>
                                </template>
                            </div>
                        </div>

                        <button @click="submitDetailedFeedback()" 
                                :disabled="!feedbackText.trim()"
                                :class="feedbackText.trim() ? 'bg-gradient-to-r from-mythiq-teal to-mythiq-blue hover:scale-105' : 'bg-gray-600 cursor-not-allowed'"
                                class="w-full py-3 rounded-lg font-semibold transition-transform">
                            Submit Detailed Feedback
                        </button>
                    </div>

                    <!-- Feedback History -->
                    <div class="bg-gray-800/80 rounded-2xl p-6 backdrop-blur-sm border border-gray-700">
                        <h2 class="text-2xl font-semibold mb-6 flex items-center">
                            <span class="w-8 h-8 bg-gradient-to-r from-mythiq-gold to-yellow-500 rounded-lg flex items-center justify-center mr-3 text-sm">üìã</span>
                            Your Feedback History
                        </h2>
                        
                        <div class="space-y-4">
                            <template x-for="feedback in feedbackHistory" :key="feedback.id">
                                <div class="p-4 bg-gray-700/50 rounded-xl">
                                    <div class="flex items-center justify-between mb-2">
                                        <div class="flex items-center space-x-2">
                                            <span class="text-lg" x-text="feedback.emoji"></span>
                                            <span class="font-medium" x-text="feedback.type"></span>
                                        </div>
                                        <div class="flex items-center space-x-4">
                                            <span class="text-sm text-gray-400" x-text="feedback.date"></span>
                                            <span class="px-2 py-1 rounded-full text-xs"
                                                  :class="getFeedbackStatusColor(feedback.status)"
                                                  x-text="feedback.status"></span>
                                        </div>
                                    </div>
                                    <p class="text-gray-300 text-sm mb-3" x-text="feedback.content"></p>
                                    <div x-show="feedback.response" class="mt-3 p-3 bg-mythiq-purple/10 border-l-4 border-mythiq-purple rounded">
                                        <p class="text-sm text-mythiq-purple font-medium mb-1">Mythiq's Response:</p>
                                        <p class="text-sm text-gray-300" x-text="feedback.response"></p>
                                    </div>
                                </div>
                            </template>
                        </div>
                    </div>
                </div>

                <!-- Right Column - Analytics & Insights -->
                <div class="space-y-8">
                    <!-- Feedback Impact -->
                    <div class="bg-gray-800/80 rounded-2xl p-6 backdrop-blur-sm border border-gray-700">
                        <h2 class="text-xl font-semibold mb-6 flex items-center">
                            <span class="w-6 h-6 bg-gradient-to-r from-mythiq-pink to-purple-500 rounded-lg flex items-center justify-center mr-2 text-sm">üìà</span>
                            Your Impact
                        </h2>
                        
                        <div class="space-y-4">
                            <div class="text-center p-4 bg-gray-700/50 rounded-xl">
                                <div class="text-3xl font-bold text-mythiq-purple mb-2" x-text="impactStats.feedbackSubmitted"></div>
                                <div class="text-sm text-gray-400">Feedback Submitted</div>
                            </div>
                            
                            <div class="text-center p-4 bg-gray-700/50 rounded-xl">
                                <div class="text-3xl font-bold text-mythiq-teal mb-2" x-text="impactStats.improvementsImplemented"></div>
                                <div class="text-sm text-gray-400">Improvements Implemented</div>
                            </div>
                            
                            <div class="text-center p-4 bg-gray-700/50 rounded-xl">
                                <div class="text-3xl font-bold text-mythiq-gold mb-2" x-text="impactStats.helpfulnessScore + '%'"></div>
                                <div class="text-sm text-gray-400">Helpfulness Score</div>
                            </div>
                        </div>

                        <!-- Impact Chart -->
                        <div class="mt-6">
                            <h3 class="text-lg font-medium mb-4">Feedback Trends</h3>
                            <canvas id="impactChart" width="300" height="200"></canvas>
                        </div>
                    </div>

                    <!-- Community Insights -->
                    <div class="bg-gray-800/80 rounded-2xl p-6 backdrop-blur-sm border border-gray-700">
                        <h2 class="text-xl font-semibold mb-6 flex items-center">
                            <span class="w-6 h-6 bg-gradient-to-r from-mythiq-blue to-cyan-500 rounded-lg flex items-center justify-center mr-2 text-sm">üë•</span>
                            Community Insights
                        </h2>
                        
                        <div class="space-y-4">
                            <div class="p-4 bg-gray-700/50 rounded-xl">
                                <h3 class="font-medium mb-2">Most Requested Feature</h3>
                                <p class="text-sm text-gray-400 mb-2">Better emotional understanding</p>
                                <div class="w-full bg-gray-600 rounded-full h-2">
                                    <div class="bg-mythiq-purple h-2 rounded-full" style="width: 78%"></div>
                                </div>
                                <p class="text-xs text-gray-400 mt-1">78% of users requested this</p>
                            </div>
                            
                            <div class="p-4 bg-gray-700/50 rounded-xl">
                                <h3 class="font-medium mb-2">Average Satisfaction</h3>
                                <div class="flex items-center space-x-2">
                                    <div class="flex">
                                        <template x-for="star in 5" :key="star">
                                            <span :class="star <= 4.2 ? 'text-yellow-400' : 'text-gray-600'" class="text-lg">‚≠ê</span>
                                        </template>
                                    </div>
                                    <span class="text-sm text-gray-400">4.2/5</span>
                                </div>
                            </div>
                            
                            <div class="p-4 bg-gray-700/50 rounded-xl">
                                <h3 class="font-medium mb-2">Recent Improvements</h3>
                                <ul class="text-sm text-gray-400 space-y-1">
                                    <li>‚Ä¢ Enhanced game generation speed</li>
                                    <li>‚Ä¢ Better emotion detection</li>
                                    <li>‚Ä¢ Improved art style variety</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Feedback Guidelines -->
                    <div class="bg-gray-800/80 rounded-2xl p-6 backdrop-blur-sm border border-gray-700">
                        <h2 class="text-xl font-semibold mb-6 flex items-center">
                            <span class="w-6 h-6 bg-gradient-to-r from-mythiq-teal to-green-500 rounded-lg flex items-center justify-center mr-2 text-sm">üí°</span>
                            Feedback Tips
                        </h2>
                        
                        <div class="space-y-3 text-sm text-gray-300">
                            <div class="flex items-start space-x-2">
                                <span class="text-mythiq-purple mt-1">‚Ä¢</span>
                                <span>Be specific about what worked or didn't work</span>
                            </div>
                            <div class="flex items-start space-x-2">
                                <span class="text-mythiq-purple mt-1">‚Ä¢</span>
                                <span>Include context about your goals and expectations</span>
                            </div>
                            <div class="flex items-start space-x-2">
                                <span class="text-mythiq-purple mt-1">‚Ä¢</span>
                                <span>Suggest concrete improvements when possible</span>
                            </div>
                            <div class="flex items-start space-x-2">
                                <span class="text-mythiq-purple mt-1">‚Ä¢</span>
                                <span>Rate emotional impact to help AI learn empathy</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Toast -->
    <div x-show="showSuccessToast" 
         x-transition:enter="transition ease-out duration-300"
         x-transition:enter-start="opacity-0 transform translate-y-2"
         x-transition:enter-end="opacity-100 transform translate-y-0"
         x-transition:leave="transition ease-in duration-200"
         x-transition:leave-start="opacity-100 transform translate-y-0"
         x-transition:leave-end="opacity-0 transform translate-y-2"
         class="fixed bottom-6 right-6 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg">
        <div class="flex items-center space-x-2">
            <span class="text-xl">‚úÖ</span>
            <span class="font-medium">Feedback submitted successfully!</span>
        </div>
    </div>

    <script>
        function feedbackConsole() {
            return {
                quickRating: 0,
                quickSelectedMood: '',
                emotionLevels: {},
                selectedFeedbackType: '',
                selectedCreation: '',
                feedbackText: '',
                isAnonymous: false,
                selectedImprovements: [],
                showSuccessToast: false,
                
                quickMoods: [
                    { name: 'Happy', emoji: 'üòä' },
                    { name: 'Excited', emoji: 'ü§©' },
                    { name: 'Satisfied', emoji: 'üòå' },
                    { name: 'Confused', emoji: 'üòï' },
                    { name: 'Frustrated', emoji: 'üò§' }
                ],
                
                emotionOptions: [
                    { name: 'Inspired', emoji: 'üí°' },
                    { name: 'Confident', emoji: 'üí™' },
                    { name: 'Relaxed', emoji: 'üòå' },
                    { name: 'Curious', emoji: 'ü§î' },
                    { name: 'Surprised', emoji: 'üò≤' }
                ],
                
                feedbackTypes: [
                    { name: 'Game', emoji: 'üéÆ' },
                    { name: 'Image', emoji: 'üñºÔ∏è' },
                    { name: 'Chat', emoji: 'üí¨' },
                    { name: 'General', emoji: '‚≠ê' }
                ],
                
                recentCreations: [
                    { id: 1, type: 'Game', title: 'Mystic Forest Adventure' },
                    { id: 2, type: 'Image', title: 'Cyberpunk Cityscape' },
                    { id: 3, type: 'Game', title: 'Space Shooter Extreme' },
                    { id: 4, type: 'Chat', title: 'Conversation with The Mentor' }
                ],
                
                improvementSuggestions: [
                    'Faster response times',
                    'More creative variations',
                    'Better emotional understanding',
                    'Improved visual quality',
                    'More interactive features',
                    'Better user guidance'
                ],
                
                feedbackHistory: [
                    {
                        id: 1,
                        type: 'Game Feedback',
                        emoji: 'üéÆ',
                        content: 'The game generation was amazing, but could use more variety in mechanics.',
                        date: '2 days ago',
                        status: 'Implemented',
                        response: 'Thank you! We\'ve added 15 new game mechanics based on your feedback.'
                    },
                    {
                        id: 2,
                        type: 'Chat Feedback',
                        emoji: 'üí¨',
                        content: 'The Mentor agent was very helpful with my decision-making process.',
                        date: '1 week ago',
                        status: 'Reviewed',
                        response: 'We\'re glad The Mentor was helpful! Your feedback helps us improve emotional intelligence.'
                    },
                    {
                        id: 3,
                        type: 'Image Feedback',
                        emoji: 'üñºÔ∏è',
                        content: 'Love the art style variety, but would like more control over colors.',
                        date: '2 weeks ago',
                        status: 'In Progress',
                        response: null
                    }
                ],
                
                impactStats: {
                    feedbackSubmitted: 23,
                    improvementsImplemented: 8,
                    helpfulnessScore: 94
                },

                init() {
                    this.initChart();
                },

                setQuickRating(rating) {
                    this.quickRating = rating;
                },

                setQuickMood(mood) {
                    this.quickSelectedMood = mood;
                },

                updateEmotionLevel(emotion, level) {
                    this.emotionLevels[emotion] = parseInt(level);
                },

                setFeedbackType(type) {
                    this.selectedFeedbackType = type;
                },

                submitQuickFeedback() {
                    if (this.quickRating === 0) {
                        alert('Please provide a rating before submitting.');
                        return;
                    }
                    
                    this.showSuccessToast = true;
                    setTimeout(() => {
                        this.showSuccessToast = false;
                    }, 3000);
                    
                    // Reset form
                    this.quickRating = 0;
                    this.quickSelectedMood = '';
                    this.emotionLevels = {};
                },

                submitDetailedFeedback() {
                    if (!this.feedbackText.trim()) {
                        alert('Please provide feedback text before submitting.');
                        return;
                    }
                    
                    // Add to feedback history
                    this.feedbackHistory.unshift({
                        id: Date.now(),
                        type: this.selectedFeedbackType + ' Feedback',
                        emoji: this.feedbackTypes.find(t => t.name === this.selectedFeedbackType)?.emoji || '‚≠ê',
                        content: this.feedbackText,
                        date: 'Just now',
                        status: 'Pending',
                        response: null
                    });
                    
                    this.showSuccessToast = true;
                    setTimeout(() => {
                        this.showSuccessToast = false;
                    }, 3000);
                    
                    // Reset form
                    this.selectedFeedbackType = '';
                    this.selectedCreation = '';
                    this.feedbackText = '';
                    this.selectedImprovements = [];
                    this.isAnonymous = false;
                    
                    // Update stats
                    this.impactStats.feedbackSubmitted++;
                },

                getFeedbackStatusColor(status) {
                    const colors = {
                        'Implemented': 'bg-green-500/20 text-green-400',
                        'In Progress': 'bg-yellow-500/20 text-yellow-400',
                        'Reviewed': 'bg-blue-500/20 text-blue-400',
                        'Pending': 'bg-gray-500/20 text-gray-400'
                    };
                    return colors[status] || colors.Pending;
                },

                initChart() {
                    const ctx = document.getElementById('impactChart').getContext('2d');
                    new Chart(ctx, {
                        type: 'line',
                        data: {
                            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                            datasets: [{
                                label: 'Feedback Impact',
                                data: [65, 72, 78, 85, 89, 94],
                                borderColor: '#ec4899',
                                backgroundColor: 'rgba(236, 72, 153, 0.1)',
                                tension: 0.4,
                                fill: true
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: { legend: { display: false } },
                            scales: {
                                y: { 
                                    beginAtZero: true,
                                    max: 100,
                                    grid: { color: 'rgba(255, 255, 255, 0.1)' },
                                    ticks: { color: '#9ca3af' }
                                },
                                x: { 
                                    grid: { color: 'rgba(255, 255, 255, 0.1)' },
                                    ticks: { color: '#9ca3af' }
                                }
                            }
                        }
                    });
                }
            }
        }
    </script>
    <script src="../src/js/main.js"></script>
</body>
</html>

